<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" main-container="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="icon" type="image/x-icon" id="fav-icon" href="img/icons/favicon.png" />
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/style.css" type="text/css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-uWxY/CJNBR+1zjPWmfnSnVxwRheevXITnMqoEIeG1LJrdI0GlVs/9cVSyPYXdcSF" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <title>User Settings</title>
  </head>
  <body>
    <!-- Sidebar Minimal Holder -->
    <nav class="d-none d-md-block sidebar_minimal">
      <i class="fas fa-bars top_nav_sidebar_icon p-3 d-flex justify-content-center border-bottom" id="sidebarCollapse"></i>
      <a class="navbar-brand d-flex justify-content-center me-0" href="">
        <img src="img/side_nav/volante-icon-white.png" height="18" alt="Company Logo">
      </a>
      <ul class="list-group list-group-flush sidebar-menu-item">
        <li>
          <div class="active">
            <a class="btn" data-bs-toggle="collapse" href="#collapseOne">
              <i class="fas fa-chart-bar"></i>
            </a>
          </div>
          <div id="collapseOne" class="collapse" data-bs-parent="#accordion">
            <div>
              <i class="fas fa-walking "></i>
            </div>
          </div>
        </li>
        <li>
          <div>
            <a class="btn" data-bs-toggle="collapse" href="#collapsetwo">
              <i class="fas fa-clipboard"></i>
            </a>
          </div>
          <div id="collapsetwo" class="collapse" data-bs-parent="#accordion">
            <div>
              <i class="fas fa-weight "></i>
            </div>
          </div>
        </li>
        <li>
          <div>
            <a class="btn" data-bs-toggle="collapse" href="#collapsethree">
              <i class="fas fa-file-invoice-dollar"></i>
            </a>
          </div>
          <div id="collapsethree" class="collapse" data-bs-parent="#accordion">
            <div>
              <i class="fas fa-walking "></i>
            </div>
          </div>
        </li>
        <li>
          <div>
            <a class="btn" data-bs-toggle="collapse" href="#collapsefour">
              <i class="far fa-handshake"></i>
            </a>
          </div>
          <div id="collapsefour" class="collapse" data-bs-parent="#accordion">
            <div>
              <i class="fas fa-hand-point-right"></i>
            </div>
          </div>
        </li>
        <li>
          <div>
            <a class="btn" data-bs-toggle="collapse" href="#collapsefive">
              <i class="far fa-user"></i>
            </a>
          </div>
          <div id="collapsefive" class="collapse" data-bs-parent="#accordion">
            <div>
              <i class="fas fa-users-cog"></i>
            </div>
          </div>
        </li>
        <li>
          <div>
            <a class="btn" data-bs-toggle="collapse" href="#collapsesix">
              <i class="fas fa-university"></i>
            </a>
          </div>
          <div id="collapsesix" class="collapse" data-bs-parent="#accordion">
            <div>
              <i class="fas fa-money-check"></i>
            </div>
          </div>
        </li>
        <li>
          <div>
            <a class="btn" data-bs-toggle="collapse" href="#collapsesix">
              <i class="fas fa-database"></i>
            </a>
          </div>
          <div id="collapsesix" class="collapse" data-bs-parent="#accordion">
            <div>
              <i class="fas fa-hand-point-left"></i>
            </div>
          </div>
        </li>
        <li>
          <div>
            <a class="btn" data-bs-toggle="collapse" href="#collapseseven">
              <i class="fas fa-paper-plane"></i>
            </a>
          </div>
          <div id="collapseseven" class="collapse" data-bs-parent="#accordion">
            <div>
              <i class="far fa-hand-point-right"></i>
            </div>
          </div>
        </li>
        <li class="dropdown br-top fixed-bottom-menu">
          <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="Entitlement">
            <i class="fas fa-user-circle"></i>
          </a>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
            <a class="dropdown-item" href="#" title="Permission">Profile</a>
            <a class="dropdown-item" href="#" title="Permission">Settings</a>
            <a class="dropdown-item" href="#" title="Permission">Logout</a>
          </div>
        </li>
      </ul>
    </nav>
    <!-- Sidebar Holder -->
    <nav class="active sidebar">
      <div class="d-flex flex justify-content-between align-items-center">
        <a class="navbar-brand mx-3" href="index.html">
          <img src="img/side_nav/volante-icon-white-expand.png" height="25" alt="Company Logo">
        </a>
        <i class="fas fa-bars top_nav_sidebar_icon mx-3" id="sidebarCollapsed"></i>
      </div>
      <ul class="list-group list-group-flush sidebar-menu-item">
        <!-- Group 1 -->
        <!-- Menu Items -->
        <li>
          <a class="nav-link sidebar-collapse-btn collapsed" data-bs-toggle="collapse" href="#sidebar-item-1" role="button" aria-expanded="false" aria-controls="collapseExample" title="VolOB">
            <i class="fas fa-cubes mr-2"></i>
            </i>Label 1 </a>
        </li>
        <ul class="list-group list-group-flush list-unstyled sidebar-menu-item-collapse collapse" id="sidebar-item-1" data-parent="#sidebar">
          <li>
            <a class="nav-link" href="" title="">Label 2</a>
          </li>
          <li>
            <a class="nav-link" href="" title="">Label 3</a>
          </li>
        </ul>
        <!-- Group 1 Ends -->
        <!-- Group 2 -->
        <p class="font-weight-bold brand-seconday-color-text pt-3 px-2 mb-1 small text-uppercase">Sample Pages</p>
        <!-- Menu Items -->
        <li>
          <a class="nav-link sidebar-collapse-btn" data-bs-toggle="collapse" href="#sidebar-item-4" role="button" aria-expanded="false" aria-controls="collapseExample" title="Fruits">
            <i class="fas fa-file-alt mr-2"></i>Sample Pages </a>
        </li>
        <ul class="list-group list-group-flush list-unstyled collapse sidebar-menu-item-collapse" id="sidebar-item-4" data-parent="#sidebar">
          <li>
            <a class="nav-link" href="sample-1.html" title="Sample 1">Sample 1</a>
          </li>
          <li>
            <a class="nav-link" href="sample-2.html" title="Sample 2">Sample 2</a>
          </li>
        </ul>
        <!-- Group 3 -->
        <p class="font-weight-bold brand-seconday-color-text pt-3 px-2 mb-1 small text-uppercase">VolPay</p>
        <!-- Menu Items 1 -->
        <li>
          <a class="nav-link sidebar-collapse-btn" data-bs-toggle="collapse" href="#sidebar-volpay-1" role="button" aria-expanded="false" aria-controls="collapseExample" title="Dashboard">
            <i class="fas fa-tachometer-alt  mr-2"></i>Dashboard </a>
        </li>
        <ul class="list-group list-group-flush list-unstyled collapse sidebar-menu-item-collapse" id="sidebar-volpay-1" data-parent="#sidebar">
          <li>
            <a class="nav-link" href="#" title="Test Link">Test Link</a>
          </li>
          <li>
            <a class="nav-link" href="#" title="Test Link">Test Link</a>
          </li>
        </ul>
      </ul>
    </nav>
    <!-- Page main-container Holder -->
    <div class="main-container h-100 active">
      <h6>User Settings</h6>
      <div class=" bd-highlight p-2 bg-white rounded-2">
        <div>
          <div class="row m-0 d-flex justify-content-between">
            <div class="col-md-8">
              <div class="dropdown w-100 advance-search">
                <a class="btn dropdown-toggle w-100 p-0 advance-search-a" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-controls="controls">
                  <input type="email" class="form-control" id="exampleInputEmail1" aria-label="Search">
                  <span>
                    <i class="fas fa-search search-icon icon-color"></i>
                  </span>
                  <span class="material-symbols-outlined  icon-color frwd-icon"> arrow_forward </span>
                </a>
                <ul class="dropdown-menu p-3 w-100" aria-labelledby="dropdownMenuLink">
                  <form>
                    <div class="mb-3">
                      <label for="exampleInputEmail1" class="form-label">Email address</label>
                      <input type="email" class="form-control" id="exampleInputEmail1" aria-label="Search1">
                      <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div>
                    </div>
                    <div class="mb-3">
                      <label for="exampleInputPassword1" class="form-label">Password</label>
                      <input type="password" class="form-control" id="exampleInputPassword1">
                    </div>
                    <div class="mb-3 form-check">
                      <input type="checkbox" class="form-check-input" id="exampleCheck1">
                      <label class="form-check-label" for="exampleCheck1">Check me out</label>
                    </div>
                    <button type="submit" class="btn btn-primary rounded-pill float-end">Submit</button>
                    <button type="button" class="btn btn-default me-3 rounded-pill float-end">Cancel</button>
                  </form>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div>
        <div class="row mt-2">
          <div class="col-sm-6 col-lg-3">
            <div class="card">
              <div class="user-settings-div">
                <ul class="list-group">
                  <li class="list-group-item p-3">
                    <div class="d-flex">
                      <div class="mr-2">
                        <i class="fas fa-globe"></i>
                      </div>
                      <div>
                        <span class="bank-data-heading">General </span>
                  </li>
                  <li class="list-group-item p-3">
                    <div class="d-flex">
                      <div class="mr-2">
                        <i class="fas fa-tachometer-alt"></i>
                      </div>
                      <div>
                        <span class="bank-data-heading">Dashboard </span>
                  </li>
                  <li class="list-group-item p-3 selected">
                    <div class="d-flex">
                      <div class="mr-2">
                        <i class="fas fa-exchange-alt"></i>
                      </div>
                      <div>
                        <span class="bank-data-heading">Instructions & Transactions </span>
                  </li>
                  <li class="list-group-item p-3">
                    <div class=" d-flex">
                      <div class="mr-2">
                        <i class="far fa-flag"></i>
                      </div>
                      <div>
                        <span class="bank-data-heading">Initiate Transaction </span>
                  </li>
                  <li class="list-group-item p-3">
                    <div class=" d-flex">
                      <div class="mr-2">
                        <i class="far fa-file-alt"></i>
                      </div>
                      <div>
                        <span class="bank-data-heading">Statements </span>
                  </li>
                  <li class="list-group-item p-3">
                    <div class=" d-flex">
                      <div class="mr-2">
                        <i class="fas fa-puzzle-piece"></i>
                      </div>
                      <div>
                        <span class="bank-data-heading">Maching Module </span>
                  </li>
                  <li class="list-group-item p-3 ">
                    <div class=" d-flex">
                      <div class="mr-2">
                        <i class="fas fa-university"></i>
                      </div>
                      <div>
                        <span class="bank-data-heading">Reference Data </span>
                  </li>
                  <li class="list-group-item p-3 ">
                    <div class=" d-flex">
                      <div class="mr-2">
                        <i class="fas fa-briefcase"></i>
                      </div>
                      <div>
                        <span class="bank-data-heading">Distribution Data </span>
                  </li>
                  <li class="list-group-item p-3 ">
                    <div class=" d-flex">
                      <div class="mr-2">
                        <i class="far fa-user-circle"></i>
                      </div>
                      <div>
                        <span class="bank-data-heading">User Profile </span>
                  </li>
                </ul>
              </div>
              </a>
            </div>
          </div>
          <div class="col-sm-6 col-lg-3">
            <div class="card">
              <div class="payment-instruction-li">
                <ul class="list-group">
                  <li class="list-group-item selected">
                    <div class=" row">
                      <div class="col-md-12">
                        <span class="calenders-sub">Payment Instructions </span>
                      </div>
                    </div>
                  </li>
                  <li class="list-group-item">
                    <div class=" row">
                      <div class="col-md-12">
                        <span class="calenders-sub">Non-Payment Instructions </span>
                      </div>
                    </div>
                  </li>
                  <li class="list-group-item">
                    <div class=" row">
                      <div class="col-md-12">
                        <span class="calenders-sub">Batch Instructions </span>
                      </div>
                    </div>
                  </li>
                  <li class="list-group-item">
                    <div class=" row">
                      <div class="col-md-12">
                        <span class="calenders-sub">Transactions </span>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="col-sm-6 col-lg-6">
            <div class="card">
              <div class="card-header">
                <div class="d-flex justify-content-between align-items-center">
                  <span>
                    <p class="mb-0  f-w-600 ">Payment Instructions</p>
                  </span>
                  <div>
                    <div class="text-right-sm" role="tablist">
                      <div class="dropdown">
                        <a class="text-primary cursor-pointer" id="dropdownMenuButton" data-bs-toggle="dropdown" href="#" aria-expanded="false">
                          <i class="fas fa-ellipsis-v" aria-hidden="true"></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                          <a class="dropdown-item" href="#">
                            <i class="las la-book-open mr-2"></i>Open </a>
                          <a class="dropdown-item" href="#">
                            <i class="lar la-edit mr-2"></i>Edit </a>
                          <a class="dropdown-item" href="#">
                            <i class="lar la-trash-alt mr-2"></i>Delete </a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="user-settings-payment-div p-3">
                <div class="p-2">
                  <p class="mb-0  f-w-600 mb-2 ">Sort by</p>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="option1" checked>
                    <label class="form-check-label" for="exampleRadios1"> By Date (Oldest on top) </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2" value="option2">
                    <label class="form-check-label" for="exampleRadios2"> Highest value to lowest value </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios3" value="option3">
                    <label class="form-check-label" for="exampleRadios3"> Instruction Status </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios4" value="option4">
                    <label class="form-check-label" for="exampleRadios4"> Customer </label>
                  </div>
                </div>
                <div class="p-2">
                  <p class="mb-0  f-w-600 mb-2 ">Filter by</p>
                  <div class="d-flex ">
                    <div class="dropdown me-2">
                      <button class="btn btn-default dropdown-toggle rounded-pill" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false"> View - All (394) </button>
                      <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                        <li>
                          <a class="dropdown-item" href="#">Action</a>
                        </li>
                        <li>
                          <a class="dropdown-item" href="#">Another action</a>
                        </li>
                        <li>
                          <a class="dropdown-item" href="#">Something else here</a>
                        </li>
                      </ul>
                    </div>
                    <div class="dropdown me-2">
                      <button class="btn btn-default dropdown-toggle rounded-pill" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false"> View - All (394) </button>
                      <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                        <li>
                          <a class="dropdown-item" href="#">Action</a>
                        </li>
                        <li>
                          <a class="dropdown-item" href="#">Another action</a>
                        </li>
                        <li>
                          <a class="dropdown-item" href="#">Something else here</a>
                        </li>
                      </ul>
                    </div>
                    <div class="dropdown me-2">
                      <button class="btn btn-default dropdown-toggle rounded-pill" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false"> View - All (394) </button>
                      <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                        <li>
                          <a class="dropdown-item" href="#">Action</a>
                        </li>
                        <li>
                          <a class="dropdown-item" href="#">Another action</a>
                        </li>
                        <li>
                          <a class="dropdown-item" href="#">Something else here</a>
                        </li>
                      </ul>
                    </div>
                    <div class="dropdown me-2">
                      <button class="btn btn-default dropdown-toggle rounded-pill" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false"> View - All (394) </button>
                      <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                        <li>
                          <a class="dropdown-item" href="#">Action</a>
                        </li>
                        <li>
                          <a class="dropdown-item" href="#">Another action</a>
                        </li>
                        <li>
                          <a class="dropdown-item" href="#">Something else here</a>
                        </li>
                        
                      </ul>
                    </div>
                  </div>
                </div>
                <div class="p-2">
                  <p class="mb-0  f-w-600 mb-2 ">Instruction Details</p>
                  <table id="draggable-table" class="draggable-table">
                    <thead>
                      <th></th>
                      <th>Tab Name</th>
                      <th>Default View</th>
                      <th>Visible</th>
                  
                    </thead>
                    <tbody>
                      <tr>
                        <td> <img src="img/side_nav/Draggable.svg" height="" alt="Company Logo"></td>
                      
                        <td>Transactions</td>
                        <td>
                            <select class="form-select w-50" aria-label="Default select example" name="text">
                                <option value="yes">Yes</option>
                                <option value="no">No</option>
                              </select>
                        </td>
                        <td>
                          <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault1" checked>
                            <label class="form-check-label" for="flexSwitchCheckDefault1"></label>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td> <img src="img/side_nav/Draggable.svg" height="" alt="Company Logo"></td>
                        <td>Instruction Log </td>
                        <td>
                            <select class="form-select w-50" aria-label="Default select example" name="text2">
                                <option value="yes">Yes</option>
                                <option value="no">No</option>
                              </select>
                        </td>                        <td>
                          <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault2">
                            <label class="form-check-label" for="flexSwitchCheckDefault2"></label>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td> <img src="img/side_nav/Draggable.svg" height="" alt="Company Logo"></td>
                        <td>System Interactions </td>
                        <td>
                            <select class="form-select w-50" aria-label="Default select example" name="text3">
                                <option value="yes">Yes</option>
                                <option value="no">No</option>
                              </select>
                        </td>                        <td>
                          <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault3" checked>
                            <label class="form-check-label" for="flexSwitchCheckDefault3"></label>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td> <img src="img/side_nav/Draggable.svg" height="" alt="Company Logo"></td>
                        <td>External Communication </td>
                        <td>
                            <select class="form-select w-50" aria-label="Default select example" name="text4">
                                <option value="yes">Yes</option>
                                <option value="no">No</option>
                              </select>
                        </td>                        <td>
                          <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault4">
                            <label class="form-check-label" for="flexSwitchCheckDefault4"></label>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td> <img src="img/side_nav/Draggable.svg" height="" alt="Company Logo"></td>
                        <td>Account Posting </td>
                        <td>
                            <select class="form-select w-50" aria-label="Default select example" name="text5">
                                <option value="yes">Yes</option>
                                <option value="no">No</option>
                              </select>
                        </td>                        <td>
                          <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault5" checked>
                            <label class="form-check-label" for="flexSwitchCheckDefault5"></label>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td> <img src="img/side_nav/Draggable.svg" height="" alt="Company Logo"></td>
                        <td>Issue Information</td>
                        <td>
                            <select class="form-select w-50" aria-label="Default select example" name="text6">
                                <option value="yes">Yes</option>
                                <option value="no">No</option>
                              </select>
                        </td>                        <td>
                          <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" role="switch" id="switch" checked>
                            <label class="form-check-label" for="switch"></label>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Footer -->
    <nav class="navbar fixed-bottom navbar-light py-1 px-3 active d-none" id="footer">
      <div class="small">VolPay &copy; 2023. <span class="d-none d-sm-inline-block">All rights reserved.</span>
      </div>
      <div class="small float-right">Version: <span class="font-weight-bold">1</span>
      </div>
    </nav>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-kQtW33rZJAHjgefvhyyzcGF3C5TFyBQBA13V1RKPf4uH+bwyzQxZ6CmMZHmNBEfJ" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
    <script type="text/javascript">
      $(document).ready(function() {
        $('#sidebarCollapse').on('click', function() {
          $('.sidebar, .main-container, #footer').toggleClass('active');
          $('.collapse.in').toggleClass('in');
          $('a[aria-expanded=true]').attr('aria-expanded', 'false');
        });
        $('#sidebarCollapsed').on('click', function() {
          $('.sidebar, .main-container, #footer').toggleClass('active');
          $('.collapse.in').toggleClass('in');
          $('a[aria-expanded=true]').attr('aria-expanded', 'false');
        });
      });
    </script>
    <!-- Draggable function -->
    <script>
      (function() {
        "use strict";
        const table = document.getElementById('draggable-table');
        const tbody = table.querySelector('tbody');
        var currRow = null,
          dragElem = null,
          mouseDownX = 0,
          mouseDownY = 0,
          mouseX = 0,
          mouseY = 0,
          mouseDrag = false;

        function init() {
          bindMouse();
        }

        function bindMouse() {
          document.addEventListener('mousedown', (event) => {
            if (event.button != 0) return true;
            let target = getTargetRow(event.target);
            if (target) {
              currRow = target;
              addDraggableRow(target);
              currRow.classList.add('is-dragging');
              let coords = getMouseCoords(event);
              mouseDownX = coords.x;
              mouseDownY = coords.y;
              mouseDrag = true;
            }
          });
          document.addEventListener('mousemove', (event) => {
            if (!mouseDrag) return;
            let coords = getMouseCoords(event);
            mouseX = coords.x - mouseDownX;
            mouseY = coords.y - mouseDownY;
            moveRow(mouseX, mouseY);
          });
          document.addEventListener('mouseup', (event) => {
            if (!mouseDrag) return;
            currRow.classList.remove('is-dragging');
            table.removeChild(dragElem);
            dragElem = null;
            mouseDrag = false;
          });
        }

        function swapRow(row, index) {
          let currIndex = Array.from(tbody.children).indexOf(currRow),
            row1 = currIndex > index ? currRow : row,
            row2 = currIndex > index ? row : currRow;
          tbody.insertBefore(row1, row2);
        }

        function moveRow(x, y) {
          dragElem.style.transform = "translate3d(" + x + "px, " + y + "px, 0)";
          let dPos = dragElem.getBoundingClientRect(),
            currStartY = dPos.y,
            currEndY = currStartY + dPos.height,
            rows = getRows();
          for (var i = 0; i < rows.length; i++) {
            let rowElem = rows[i],
              rowSize = rowElem.getBoundingClientRect(),
              rowStartY = rowSize.y,
              rowEndY = rowStartY + rowSize.height;
            if (currRow !== rowElem && isIntersecting(currStartY, currEndY, rowStartY, rowEndY)) {
              if (Math.abs(currStartY - rowStartY) < rowSize.height / 2) swapRow(rowElem, i);
            }
          }
        }

        function addDraggableRow(target) {
          dragElem = target.cloneNode(true);
          dragElem.classList.add('draggable-table__drag');
          dragElem.style.height = getStyle(target, 'height');
          dragElem.style.background = getStyle(target, 'backgroundColor');
          for (var i = 0; i < target.children.length; i++) {
            let oldTD = target.children[i],
              newTD = dragElem.children[i];
            newTD.style.width = getStyle(oldTD, 'width');
            newTD.style.height = getStyle(oldTD, 'height');
            newTD.style.padding = getStyle(oldTD, 'padding');
            newTD.style.margin = getStyle(oldTD, 'margin');
          }
          table.appendChild(dragElem);
          let tPos = target.getBoundingClientRect(),
            dPos = dragElem.getBoundingClientRect();
          dragElem.style.bottom = ((dPos.y - tPos.y) - tPos.height) + "px";
          dragElem.style.left = "-1px";
          document.dispatchEvent(new MouseEvent('mousemove', {
            view: window,
            cancelable: true,
            bubbles: true
          }));
        }

        function getRows() {
          return table.querySelectorAll('tbody tr');
        }

        function getTargetRow(target) {
          let elemName = target.tagName.toLowerCase();
          if (elemName == 'tr') return target;
          if (elemName == 'td') return target.closest('tr');
        }

        function getMouseCoords(event) {
          return {
            x: event.clientX,
            y: event.clientY
          };
        }

        function getStyle(target, styleName) {
          let compStyle = getComputedStyle(target),
            style = compStyle[styleName];
          return style ? style : null;
        }

        function isIntersecting(min0, max0, min1, max1) {
          return Math.max(min0, max0) >= Math.min(min1, max1) && Math.min(min0, max0) <= Math.max(min1, max1);
        }
        init();
      })();
    </script>
  </body>
</html>